"use strict";(self["webpackChunkfishsoup"]=self["webpackChunkfishsoup"]||[]).push([[535],{2659:function(e,r,t){t.r(r),t.d(r,{default:function(){return B}});var s=t(3396);const o={class:"login-page"};function n(e,r,t,n,a,l){const i=(0,s.up)("login-component");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(i)])}var a=t(7139),l=t(9242),i=t(9574);const d={class:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},u={class:"max-w-md w-full space-y-8"},c=(0,s._)("img",{class:"mx-auto h-12 w-auto",src:i,alt:"Fishsoup"},null,-1),p=(0,s._)("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Sign in to your account",-1),m={class:"mt-2 text-center text-sm text-gray-600"},g=(0,s.Uk)(" Or "+(0,a.zw)(" ")+" "),f=(0,s.Uk)(" register a new account "),h=(0,s._)("input",{type:"hidden",name:"remember",value:"true"},null,-1),w={class:"rounded-md shadow-sm -space-y-px"},x=(0,s._)("label",{for:"email-address",class:"sr-only"},"Email address",-1),v={key:0,class:"text-red-500"},y=(0,s._)("label",{for:"password",class:"sr-only"},"Password",-1),b={key:1,class:"text-red-500"},k={type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},_={class:"absolute left-0 inset-y-0 flex items-center pl-3"},S=(0,s.Uk)(" Sign in ");function Z(e,r,t,o,n,i){const Z=(0,s.up)("router-link"),z=(0,s.up)("LockClosedIcon");return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",u,[(0,s._)("div",null,[c,p,(0,s._)("p",m,[g,(0,s.Wm)(Z,{to:"/register",class:"font-medium text-indigo-600 hover:text-indigo-500"},{default:(0,s.w5)((()=>[f])),_:1})])]),(0,s._)("form",{onSubmit:r[2]||(r[2]=(0,l.iM)(((...r)=>e.login&&e.login(...r)),["prevent"])),class:"mt-8 space-y-6",method:"POST"},[h,(0,s._)("div",w,[(0,s._)("div",null,[x,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[0]||(r[0]=r=>e.email=r),id:"email-address",name:"email",type:"email",autocomplete:"email",required:"true",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[l.nr,e.email]])]),0!==Object.keys(e.errors).length&&e.errors.email&&0!==e.errors.email.length?((0,s.wg)(),(0,s.iD)("span",v,(0,a.zw)(e.errors.email[0]),1)):(0,s.kq)("",!0),(0,s._)("div",null,[y,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":r[1]||(r[1]=r=>e.password=r),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"true",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[l.nr,e.password]])]),0!==Object.keys(e.errors).length&&e.errors.password&&0!==e.errors.password.length?((0,s.wg)(),(0,s.iD)("span",b,(0,a.zw)(e.errors.password[0]),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",k,[(0,s._)("span",_,[(0,s.Wm)(z,{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})]),S])])],32)])])}var z=t(4870),C=t(893),I=t(3082),j=t(1354),L=t(5765),U=t(3766),q=t(6603),O=t(2032),V=(0,s.aZ)({name:"LoginComponent",components:{LockClosedIcon:C.Z},setup(){let e=(0,z.qj)({email:"",password:""}),r=(0,z.iH)({});const t=(0,L.F)(),s=(0,q.e)(),o=(0,O.t)(),{user:n}=(0,U.Jk)(s),{loggedIn:a}=(0,U.Jk)(t);return{...(0,z.BK)(e),errors:r,user:n,userState:s,loggedIn:a,authState:t,navigation:o}},methods:{login(){I.Z.login({email:this.email,password:this.password}).then((e=>{this.userState.setUser(e?e.data:null),this.authState.$patch({loggedIn:!0}),localStorage.setItem("auth","true"),localStorage.setItem("user",JSON.stringify(e.data)),0===e.data.type&&this.navigation.setLinks([{name:"Store",href:"/store"}]),j.Z.push({name:"dashboard"})})).catch((e=>{422===e.response.status&&(this.errors=e.response.data.errors)}))}}}),D=t(89);const W=(0,D.Z)(V,[["render",Z]]);var H=W,J=(0,s.aZ)({name:"LoginView",components:{LoginComponent:H}});const P=(0,D.Z)(J,[["render",n]]);var B=P},893:function(e,r,t){t.d(r,{Z:function(){return o}});var s=t(3396);function o(e,r){return(0,s.wg)(),(0,s.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,s.Wm)("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])}}}]);
//# sourceMappingURL=login.4be77477.js.map
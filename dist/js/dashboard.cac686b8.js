"use strict";(self["webpackChunkfishsoup"]=self["webpackChunkfishsoup"]||[]).push([[966],{7151:function(e,t,r){var s=r(3286);t["Z"]={createOrder(e){return s.Z.post("/orders",e)},getAllOrders(e){return s.Z.get(`/orders/${e}`)},deleteOrder(e){return s.Z["delete"](`/orders/${e}`)},getFullOrders(){return s.Z.get("/orders")},markOrderAsDone(e){return s.Z.put(`/orders/${e}`)}}},473:function(e,t,r){r.r(t),r.d(t,{default:function(){return dt}});var s=r(3396);const a={class:"dashboard"},o={key:0},n={key:1},l={key:2},d={key:3},i={key:4},c=(0,s._)("pre",null,"Error Occurred: Your Type as a User isn't Recognized.",-1),u=[c];function m(e,t,r,c,m,g){const p=(0,s.up)("customer-dashboard"),w=(0,s.up)("worker-dashboard"),x=(0,s.up)("department-manager-dashboard"),v=(0,s.up)("general-manager-dashboard");return(0,s.wg)(),(0,s.iD)("div",a,[0===e.user?.type?((0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(p)])):1===e.user?.type?((0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(w)])):2===e.user?.type?((0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(x)])):3===e.user?.type?((0,s.wg)(),(0,s.iD)("div",d,[(0,s.Wm)(v)])):((0,s.wg)(),(0,s.iD)("div",i,u))])}var g=r(3766),p=r(6603),w=r(7139);const x={class:"customer-dashboard"},v={class:"bg-white shadow"},h={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},b={class:"flex items-center justify-between text-3xl font-bold text-gray-900"},y=(0,s.Uk)(),f={class:"text-base"},_={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},k={class:"flex flex-col justify-center items-center space-y-4"};function D(e,t,r,a,o,n){const l=(0,s.up)("render-order");return(0,s.wg)(),(0,s.iD)("div",x,[(0,s._)("header",v,[(0,s._)("div",h,[(0,s._)("h1",b,[(0,s._)("span",null,"welcome worker "+(0,w.zw)(e.user?.name)+", dashboard",1),y,(0,s._)("span",f,(0,w.zw)(e.route.path.substring(1,e.route.path.length).toLowerCase()),1)])])]),(0,s._)("main",null,[(0,s._)("div",_,[(0,s._)("div",k,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.allOrders,(t=>((0,s.wg)(),(0,s.j4)(l,{ord:t,onMarkAsDone:r=>e.markOrder(t.id),worker:!0,key:t.id},null,8,["ord","onMarkAsDone"])))),128))])])])])}var Z=r(4870),A=r(7151);const O={class:"max-w-sm w-full lg:max-w-full lg:flex shadow"},j={class:"mb-8 flex justify-between"},z=(0,s._)("p",{class:"text-sm text-gray-600 flex items-center"},[(0,s._)("svg",{class:"fill-current text-gray-500 w-3 h-3 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z"})]),(0,s.Uk)(" Order Submitted ")],-1),C={class:"text-gray-900 font-bold text-xl mb-2"},M=["disabled"],U={class:"flex items-center justify-center"},q=(0,s._)("span",{class:"ml-[0.2rem] mr-1"},"Remove",-1),I={class:"flex items-center justify-between"},H={class:"text-sm"},R={class:"text-gray-900 leading-none"},W={class:"text-gray-600"};function S(e,t,r,a,o,n){const l=(0,s.up)("x-icon"),d=(0,s.up)("badge-component");return(0,s.wg)(),(0,s.iD)("div",O,[(0,s._)("div",{class:"h-48 lg:h-auto lg:w-48 flex-none bg-cover rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden",style:(0,w.j5)({backgroundImage:`url(${e.product?.image_link})`})},null,4),(0,s._)("div",{class:(0,w.C_)(["w-full border-r border-b border-l lg:border-l-0 lg:border-t bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal",0==e.ord.status||0==e.ord.status?"border-teal-400 lg:border-teal-400":"border-purple-400 lg:border-purple-400"])},[(0,s._)("div",j,[(0,s._)("div",null,[z,(0,s._)("div",C,(0,w.zw)(e.product?.name),1),(0,s._)("p",{class:(0,w.C_)(`text-gray-700 text-base ${!e.ord.street_address&&"text-red-400"}`)},(0,w.zw)(e.ord.street_address?e.ord.street_address:"No Address Provided"),3)]),1==e.ord.status||1==e.ord.status?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[0]||(t[0]=(...t)=>e.removeItem&&e.removeItem(...t)),class:(0,w.C_)(["rounded-md py-2 w-32 lg:w-36 bg--500 h-[2.32rem] bg-rose-600 text-white align-middle text-center text-sm",e.worker?"bg-rose-400":"hover:bg-rose-500"]),disabled:e.worker},[(0,s._)("span",U,[(0,s.Wm)(l,{class:"h-5"}),q])],10,M)):(0,s.kq)("",!0),!e.worker||0!=e.ord.status&&0!=e.ord.status?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:t[1]||(t[1]=(...t)=>e.markAsDone&&e.markAsDone(...t)),class:"rounded-md py-2 w-32 lg:w-36 bg--500 h-[2.32rem] bg-rose-600 hover:bg-rose-500 text-white align-middle text-center text-sm"}," Mark as Done "))]),(0,s._)("div",I,[(0,s._)("div",H,[(0,s._)("p",R,"Ordered by: "+(0,w.zw)(e.userOrdered?.name),1),(0,s._)("p",W,"Ordered on: "+(0,w.zw)(new Date(e.ord.created_at).toDateString()),1)]),(0,s.Wm)(d,{text:0==e.ord.status||0==e.ord.status?"In Progress":"Done",done:0!=e.ord.status&&0!=e.ord.status},null,8,["text","done"])])],2)])}var $=r(3281);function B(e,t,r,a,o,n){return(0,s.wg)(),(0,s.iD)("div",{class:(0,w.C_)(["text-sm rounded-full w-32 lg:w-36 py-2 text-center align-middle",e.done?"bg-purple-700 text-white":"bg-teal-400"])},(0,w.zw)(e.text),3)}var Y=(0,s.aZ)({name:"BadgeComponent",props:{text:{required:!0,type:String},paddingX:{required:!1,type:String},paddingY:{required:!1,type:String},color:{required:!1,type:String},level:{required:!1,type:String},done:{required:!0,type:Boolean}}}),J=r(89);const P=(0,J.Z)(Y,[["render",B]]);var K=P,L=r(8582),V=r(3082),E=(0,s.aZ)({name:"RenderOrder",props:{ord:{required:!0,type:Object},worker:{required:!1,type:Boolean}},setup(e){const t=(0,Z.iH)(),r=(0,p.e)(),{user:a}=(0,g.Jk)(r),o=(0,Z.iH)();return(0,s.bv)((()=>{$.Z.getSingleProduct(e.ord.product_id).then((e=>{t.value=e.data})).catch((e=>console.log(e))),V.Z.getUserById(e.ord.user_id).then((e=>{o.value=e.data})).catch((e=>console.log(e)))})),{product:t,user:a,userOrdered:o}},components:{BadgeComponent:K,XIcon:L.Z},methods:{removeItem(){const e=window.confirm("Are You Sure ?");e&&this.$emit("remove-item")},markAsDone(){this.$emit("mark-as-done")}}});const F=(0,J.Z)(E,[["render",S]]);var G=F,X=r(3286),N={getAllActivites(){return X.Z.get("/activity")},deleteActivity(e){return X.Z["delete"](`/activity/${e}`)},addActivity(e){return X.Z.post("/activity",e)}},T=r(678),Q=(0,s.aZ)({name:"WorkerDashboard",setup(){const e=(0,Z.iH)([]),t=(0,p.e)(),{user:r}=(0,g.Jk)(t),a=(0,T.yj)();return(0,s.bv)((()=>{A.Z.getFullOrders().then((t=>{e.value=t.data})).catch((e=>console.log(e)))})),{allOrders:e,route:a,user:r}},components:{RenderOrder:G},methods:{markOrder(e){A.Z.markOrderAsDone(e).then((async()=>{this.allOrders=(await A.Z.getFullOrders()).data})).catch((e=>console.log(e))),N.addActivity({user_id:this.user?.id,description:"Marked Order as Done"}).catch((e=>console.log(e)))}}});const ee=(0,J.Z)(Q,[["render",D]]);var te=ee;const re={class:"customer-dashboard"},se={class:"bg-white shadow"},ae={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},oe={class:"flex items-center justify-between text-3xl font-bold text-gray-900"},ne=(0,s.Uk)(),le={class:"text-base"},de={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},ie={class:"flex flex-col justify-center items-center space-y-4"};function ce(e,t,r,a,o,n){const l=(0,s.up)("render-order");return(0,s.wg)(),(0,s.iD)("div",re,[(0,s._)("header",se,[(0,s._)("div",ae,[(0,s._)("h1",oe,[(0,s._)("span",null,"welcome "+(0,w.zw)(e.user?.name)+", dashboard",1),ne,(0,s._)("span",le,(0,w.zw)(e.route.path.substring(1,e.route.path.length).toLowerCase()),1)])])]),(0,s._)("main",null,[(0,s._)("div",de,[(0,s._)("div",ie,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.userOrders,(t=>((0,s.wg)(),(0,s.j4)(l,{ord:t,onRemoveItem:r=>e.deleteItem(t.id),key:t.id},null,8,["ord","onRemoveItem"])))),128))])])])])}var ue=(0,s.aZ)({name:"CustomerDashboard",setup(){const e=(0,Z.iH)([]),t=(0,p.e)(),{user:r}=(0,g.Jk)(t),a=(0,T.yj)();return(0,s.bv)((()=>{A.Z.getAllOrders(r.value?.id).then((t=>{e.value=t.data})).catch((e=>console.log(e)))})),{userOrders:e,user:r,route:a}},components:{RenderOrder:G},methods:{deleteItem(e){A.Z.deleteOrder(e),A.Z.getAllOrders(this.user?.id).then((e=>{this.userOrders=e.data}))}}});const me=(0,J.Z)(ue,[["render",ce]]);var ge=me;const pe={class:"customer-dashboard"},we={class:"bg-white shadow"},xe={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},ve={class:"flex items-center justify-between text-3xl font-bold text-gray-900"},he=(0,s.Uk)(),be={class:"text-base"},ye={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},fe={class:"flex flex-col justify-center items-center space-y-4"};function _e(e,t,r,a,o,n){const l=(0,s.up)("render-user");return(0,s.wg)(),(0,s.iD)("div",pe,[(0,s._)("header",we,[(0,s._)("div",xe,[(0,s._)("h1",ve,[(0,s._)("span",null,"welcome general manager "+(0,w.zw)(e.user?.name)+", dashboard",1),he,(0,s._)("span",be,(0,w.zw)(e.route.path.substring(1,e.route.path.length).toLowerCase()),1)])])]),(0,s._)("main",null,[(0,s._)("div",ye,[(0,s._)("div",fe,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.users,(t=>((0,s.wg)(),(0,s.j4)(l,{user:t,onPromoteEvent:e.promote,key:t.id},null,8,["user","onPromoteEvent"])))),128))])])])])}const ke={class:"max-w-sm w-full lg:max-w-full lg:flex shadow"},De={class:"w-full border-r border-b border-l lg:border-l-0 lg:border-t bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col lg:flex-row space-y-7 items-center lg:space-y-0 justify-between leading-normal"};function Ze(e,t,r,a,o,n){return(0,s.wg)(),(0,s.iD)("div",ke,[(0,s._)("div",De,[(0,s._)("p",null,[(0,s._)("span",{class:(0,w.C_)(e.colorMapping[e.user.type||0])},(0,w.zw)(e.typeMapping[e.user.type||0]),3),(0,s.Uk)(": "+(0,w.zw)(e.user.email),1)]),(e.user.type||0)<3?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:t[0]||(t[0]=t=>e.promote((e.user.type||0)+1)),class:"bg-blue-200 rounded-md px-4 py-2"},"Promote to "+(0,w.zw)(e.typeMapping[(e.user.type||0)+1]),1)):(0,s.kq)("",!0)])])}function Ae(e,t){return(0,s.wg)(),(0,s.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[(0,s.Wm)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 10l7-7m0 0l7 7m-7-7v18"})])}const Oe=["Customer","Worker","Department Manager","General Manager"],je=["text-black","text-green-500","text-sky-500","text-purple-500"];var ze=(0,s.aZ)({name:"RenderUser",props:{user:{required:!0,type:Object}},setup(){return{typeMapping:Oe,colorMapping:je,ArrowUpIcon:Ae}},methods:{promote(e){this.$emit("promote-event",{id:this.user.id,level:e})}}});const Ce=(0,J.Z)(ze,[["render",Ze]]);var Me=Ce,Ue=(0,s.aZ)({name:"GeneralManagerDashboard",setup(){const e=(0,Z.iH)([]),t=(0,p.e)(),{user:r}=(0,g.Jk)(t),a=(0,T.yj)();return(0,s.bv)((()=>{V.Z.getAllUsers().then((t=>{e.value=t.data})).catch((e=>{console.log(e)}))})),{users:e,route:a,user:r}},components:{RenderUser:Me},methods:{promote(e){V.Z.promoteUser(e.id,e.level).then((async()=>{this.users=(await V.Z.getAllUsers()).data})).catch((e=>console.log(e)))}}});const qe=(0,J.Z)(Ue,[["render",_e]]);var Ie=qe;const He={class:"customer-dashboard"},Re={class:"bg-white shadow"},We={class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},Se={class:"flex items-cetner justify-between text-3xl font-bold text-gray-900"},$e={class:"text-base pt-2"},Be={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},Ye={class:"flex flex-col justify-center items-center space-y-4"};function Je(e,t,r,a,o,n){const l=(0,s.up)("render-activity");return(0,s.wg)(),(0,s.iD)("div",He,[(0,s._)("header",Re,[(0,s._)("div",We,[(0,s._)("h1",Se,[(0,s._)("span",null,"welcome manager "+(0,w.zw)(e.user?.name)+", worker activity",1),(0,s._)("span",$e,(0,w.zw)(e.route.path.substring(1,e.route.path.length).toLowerCase()),1)])])]),(0,s._)("main",null,[(0,s._)("div",Be,[(0,s._)("div",Ye,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.activities,(t=>((0,s.wg)(),(0,s.j4)(l,{act:t,onDeleteActivity:r=>e.delAct(t.id),key:t.id},null,8,["act","onDeleteActivity"])))),128))])])])])}const Pe={class:"max-w-sm w-full lg:max-w-full rounded-md lg:flex shadow"},Ke={class:"w-full border-r border-b border-l lg:border-l-0 lg:border-t bg-white rounded-md p-4 lg:px-10 flex flex-col justify-between leading-normal"},Le={class:"mb-8 flex justify-between"},Ve={class:"text-gray-900 font-bold text-xl mb-2"},Ee={class:(0,w.C_)("text-gray-700 text-base")},Fe=(0,s._)("span",{class:"flex items-center justify-center"},[(0,s._)("span",{class:"ml-[0.2rem] mr-1"},"Remove")],-1),Ge=[Fe],Xe={class:"flex items-center justify-between"},Ne={class:"text-sm"},Te={class:"text-gray-600"};function Qe(e,t,r,a,o,n){return(0,s.wg)(),(0,s.iD)("div",Pe,[(0,s._)("div",Ke,[(0,s._)("div",Le,[(0,s._)("div",null,[(0,s._)("div",Ve,(0,w.zw)(e.activityWorker?.name),1),(0,s._)("p",Ee,(0,w.zw)(e.act.description),1)]),(0,s._)("button",{onClick:t[0]||(t[0]=(...t)=>e.delActivity&&e.delActivity(...t)),class:"rounded-md py-2 w-32 lg:w-36 bg--500 h-[2.32rem] bg-rose-600 hover:bg-rose-500 text-white align-middle text-center text-sm"},Ge)]),(0,s._)("div",Xe,[(0,s._)("div",Ne,[(0,s._)("p",Te,"Ordered on: "+(0,w.zw)(new Date(e.act.created_at||"").toDateString()),1)])])])])}var et=(0,s.aZ)({name:"RenderActivity",props:{act:{required:!0,type:Object}},methods:{delActivity(){const e=window.confirm("Are You Sure ?");e&&this.$emit("delete-activity")}},setup(e){const t=(0,Z.iH)();return(0,s.bv)((()=>{V.Z.getUserById(e.act.user_id).then((e=>{t.value=e.data})).catch((e=>console.log(e)))})),{activityWorker:t}}});const tt=(0,J.Z)(et,[["render",Qe]]);var rt=tt,st=(0,s.aZ)({name:"DepartmentManagerDashboard",setup(){const e=(0,Z.iH)([]),t=(0,p.e)(),{user:r}=(0,g.Jk)(t),a=(0,T.yj)();return(0,s.bv)((()=>{N.getAllActivites().then((t=>{e.value=t.data})).catch((e=>console.log(e)))})),{activities:e,route:a,user:r}},methods:{delAct(e){N.deleteActivity(e).then((async()=>{this.activities=(await N.getAllActivites()).data})).catch((e=>console.log(e)))}},components:{RenderActivity:rt}});const at=(0,J.Z)(st,[["render",Je]]);var ot=at,nt=(0,s.aZ)({name:"DashboardView",setup(){const e=(0,p.e)(),{user:t}=(0,g.Jk)(e);return{user:t}},components:{CustomerDashboard:ge,WorkerDashboard:te,DepartmentManagerDashboard:ot,GeneralManagerDashboard:Ie}});const lt=(0,J.Z)(nt,[["render",m]]);var dt=lt}}]);
//# sourceMappingURL=dashboard.cac686b8.js.map
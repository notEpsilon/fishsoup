"use strict";(self["webpackChunkfishsoup"]=self["webpackChunkfishsoup"]||[]).push([[535],{9025:function(e,t,r){r.r(t),r.d(t,{default:function(){return B}});var s=r(3396);const o={class:"login-page"};function n(e,t,r,n,a,i){const l=(0,s.up)("login-component");return(0,s.wg)(),(0,s.iD)("div",o,[(0,s.Wm)(l)])}var a=r(7139),i=r(9242),l=r(9574);const d={class:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},u={class:"max-w-md w-full space-y-8"},c=(0,s._)("img",{class:"mx-auto h-12 w-auto",src:l,alt:"Fishsoup"},null,-1),p=(0,s._)("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},"Sign in to your account",-1),m={class:"mt-2 text-center text-sm text-gray-600"},g=(0,s.Uk)(" Or "+(0,a.zw)(" ")+" "),h=(0,s.Uk)(" register a new account "),f=(0,s._)("input",{type:"hidden",name:"remember",value:"true"},null,-1),w={class:"rounded-md shadow-sm -space-y-px"},v=(0,s._)("label",{for:"email-address",class:"sr-only"},"Email address",-1),y={key:0,class:"text-red-500"},x=(0,s._)("label",{for:"password",class:"sr-only"},"Password",-1),b={key:1,class:"text-red-500"},k={type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},_={class:"absolute left-0 inset-y-0 flex items-center pl-3"},S=(0,s.Uk)(" Sign in ");function I(e,t,r,o,n,l){const I=(0,s.up)("router-link"),L=(0,s.up)("LockClosedIcon");return(0,s.wg)(),(0,s.iD)("div",d,[(0,s._)("div",u,[(0,s._)("div",null,[c,p,(0,s._)("p",m,[g,(0,s.Wm)(I,{to:"/register",class:"font-medium text-indigo-600 hover:text-indigo-500"},{default:(0,s.w5)((()=>[h])),_:1})])]),(0,s._)("form",{onSubmit:t[2]||(t[2]=(0,i.iM)(((...t)=>e.login&&e.login(...t)),["prevent"])),class:"mt-8 space-y-6",method:"POST"},[f,(0,s._)("div",w,[(0,s._)("div",null,[v,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.email=t),id:"email-address",name:"email",type:"email",autocomplete:"email",required:"true",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address"},null,512),[[i.nr,e.email]])]),0!==Object.keys(e.errors).length&&e.errors.email&&0!==e.errors.email.length?((0,s.wg)(),(0,s.iD)("span",y,(0,a.zw)(e.errors.email[0]),1)):(0,s.kq)("",!0),(0,s._)("div",null,[x,(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t),id:"password",name:"password",type:"password",autocomplete:"current-password",required:"true",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password"},null,512),[[i.nr,e.password]])]),0!==Object.keys(e.errors).length&&e.errors.password&&0!==e.errors.password.length?((0,s.wg)(),(0,s.iD)("span",b,(0,a.zw)(e.errors.password[0]),1)):(0,s.kq)("",!0)]),(0,s._)("div",null,[(0,s._)("button",k,[(0,s._)("span",_,[(0,s.Wm)(L,{class:"h-5 w-5 text-indigo-500 group-hover:text-indigo-400","aria-hidden":"true"})]),S])])],32)])])}var L=r(4870),Z=r(893),C=r(3082),z=r(6078),U=r(5765),j=r(3766),q=r(6603),D=r(2032),J=r(4817),O=(0,s.aZ)({name:"LoginComponent",components:{LockClosedIcon:Z.Z},setup(){let e=(0,L.qj)({email:"",password:""}),t=(0,L.iH)({});const r=(0,U.F)(),s=(0,q.e)(),o=(0,J.Z)(),n=(0,D.t)(),{user:a}=(0,j.Jk)(s),{content:i}=(0,j.Jk)(o),{loggedIn:l}=(0,j.Jk)(r),{loggedInNavLinks:d}=(0,j.Jk)(n);return{...(0,L.BK)(e),errors:t,user:a,userState:s,loggedIn:l,authState:r,navigation:n,loggedInNavLinks:d,content:i,cartState:o}},methods:{login(){C.Z.login({email:this.email,password:this.password}).then((e=>{this.userState.setUser(e?e.data:null),this.authState.$patch({loggedIn:!0}),localStorage.setItem("auth","true"),localStorage.setItem("user",JSON.stringify(e.data)),this.cartState.updateCart(e.data.id),0===e.data.type?this.navigation.setLinks([{name:"Store",href:"/store"}]):2!==e.data.type&&3!==e.data.type||this.navigation.setLinks([{name:"Add / Update Dish",href:"/dish"}]),z.Z.push({name:"dashboard"})})).catch((e=>{422===e.response.status&&(this.errors=e.response.data.errors)}))}}}),V=r(89);const W=(0,V.Z)(O,[["render",I]]);var H=W,N=(0,s.aZ)({name:"LoginView",components:{LoginComponent:H}});const P=(0,V.Z)(N,[["render",n]]);var B=P},893:function(e,t,r){r.d(t,{Z:function(){return o}});var s=r(3396);function o(e,t){return(0,s.wg)(),(0,s.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,s.Wm)("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])}}}]);
//# sourceMappingURL=login.63827b78.js.map
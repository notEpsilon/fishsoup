"use strict";(self["webpackChunkfishsoup"]=self["webpackChunkfishsoup"]||[]).push([[966],{7151:function(e,r,t){var s=t(3286);r["Z"]={createOrder(e){return s.Z.post("/orders",e)},getAllOrders(e){return s.Z.get(`/orders/${e}`)},deleteOrder(e){return s.Z["delete"](`/orders/${e}`)},getFullOrders(){return s.Z.get("/orders")},markOrderAsDone(e){return s.Z.put(`/orders/${e}`)}}},3281:function(e,r,t){var s=t(3286);r["Z"]={getAllProducts(){return s.Z.get("/products")},getSingleProduct(e){return s.Z.get(`/products/${e}`)}}},9975:function(e,r,t){t.r(r),t.d(r,{default:function(){return Me}});var s=t(3396);const o={class:"dashboard"},a={key:0},n={key:1},d={key:2},l={key:3},u={key:4},i=(0,s._)("pre",null,"Error Occurred: Your Type as a User isn't Recognized.",-1),c=[i];function m(e,r,t,i,m,g){const p=(0,s.up)("customer-dashboard"),x=(0,s.up)("worker-dashboard"),w=(0,s.up)("department-manager-dashboard"),h=(0,s.up)("general-manager-dashboard");return(0,s.wg)(),(0,s.iD)("div",o,[0===e.user?.type?((0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(p)])):1===e.user?.type?((0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(x)])):2===e.user?.type?((0,s.wg)(),(0,s.iD)("div",d,[(0,s.Wm)(w)])):3===e.user?.type?((0,s.wg)(),(0,s.iD)("div",l,[(0,s.Wm)(h)])):((0,s.wg)(),(0,s.iD)("div",u,c))])}var g=t(3766),p=t(6603);const x={class:"customer-dashboard"},w=(0,s._)("header",{class:"bg-white shadow"},[(0,s._)("div",{class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},[(0,s._)("h1",{class:"text-3xl font-bold text-gray-900"},"Dashboard")])],-1),h={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},b={class:"flex flex-col justify-center items-center space-y-4"};function v(e,r,t,o,a,n){const d=(0,s.up)("render-order");return(0,s.wg)(),(0,s.iD)("div",x,[w,(0,s._)("main",null,[(0,s._)("div",h,[(0,s._)("div",b,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.allOrders,(r=>((0,s.wg)(),(0,s.j4)(d,{ord:r,onMarkAsDone:t=>e.markOrder(r.id),worker:!0,key:r.id},null,8,["ord","onMarkAsDone"])))),128))])])])])}var y=t(4870),f=t(7151),k=t(7139);const _={class:"max-w-sm w-full lg:max-w-full lg:flex shadow"},D={class:"mb-8 flex justify-between"},Z=(0,s._)("p",{class:"text-sm text-gray-600 flex items-center"},[(0,s._)("svg",{class:"fill-current text-gray-500 w-3 h-3 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[(0,s._)("path",{d:"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z"})]),(0,s.Uk)(" Order Submitted ")],-1),O={class:"text-gray-900 font-bold text-xl mb-2"},M=["disabled"],j={class:"flex items-center justify-center"},C=(0,s._)("span",{class:"ml-[0.2rem] mr-1"},"Remove",-1),A={class:"flex items-center justify-between"},q={class:"text-sm"},z={class:"text-gray-900 leading-none"},I={class:"text-gray-600"};function W(e,r,t,o,a,n){const d=(0,s.up)("x-icon"),l=(0,s.up)("badge-component");return(0,s.wg)(),(0,s.iD)("div",_,[(0,s._)("div",{class:"h-48 lg:h-auto lg:w-48 flex-none bg-cover rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden",style:(0,k.j5)({backgroundImage:`url(${e.product?.image_link})`})},null,4),(0,s._)("div",{class:(0,k.C_)(["w-full border-r border-b border-l lg:border-l-0 lg:border-t bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal",0===e.ord.status?"border-teal-400 lg:border-teal-400":"border-purple-400 lg:border-purple-400"])},[(0,s._)("div",D,[(0,s._)("div",null,[Z,(0,s._)("div",O,(0,k.zw)(e.product?.name),1),(0,s._)("p",{class:(0,k.C_)(`text-gray-700 text-base ${!e.ord.street_address&&"text-red-400"}`)},(0,k.zw)(e.ord.street_address?e.ord.street_address:"No Address Provided"),3)]),1===e.ord.status?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[0]||(r[0]=(...r)=>e.removeItem&&e.removeItem(...r)),class:(0,k.C_)(["rounded-md py-2 w-32 lg:w-36 bg--500 h-[2.32rem] bg-rose-600 text-white align-middle text-center text-sm",e.worker?"bg-rose-400":""]),disabled:e.worker},[(0,s._)("span",j,[(0,s.Wm)(d,{class:"h-5"}),C])],10,M)):(0,s.kq)("",!0),e.worker&&1!==e.ord.status?((0,s.wg)(),(0,s.iD)("button",{key:1,onClick:r[1]||(r[1]=(...r)=>e.markAsDone&&e.markAsDone(...r)),class:"rounded-md py-2 w-32 lg:w-36 bg--500 h-[2.32rem] bg-rose-600 hover:bg-rose-500 text-white align-middle text-center text-sm"}," Mark as Done ")):(0,s.kq)("",!0)]),(0,s._)("div",A,[(0,s._)("div",q,[(0,s._)("p",z,"Ordered by: "+(0,k.zw)(e.user?.name),1),(0,s._)("p",I,"Ordered on: "+(0,k.zw)(new Date(e.ord.created_at).toDateString()),1)]),(0,s.Wm)(l,{text:0===e.ord.status?"In Progress":"Done",done:0!==e.ord.status},null,8,["text","done"])])],2)])}var R=t(3281);function S(e,r,t,o,a,n){return(0,s.wg)(),(0,s.iD)("div",{class:(0,k.C_)(["text-sm rounded-full w-32 lg:w-36 py-2 text-center align-middle",e.done?"bg-purple-700 text-white":"bg-teal-400"])},(0,k.zw)(e.text),3)}var U=(0,s.aZ)({name:"BadgeComponent",props:{text:{required:!0,type:String},paddingX:{required:!1,type:String},paddingY:{required:!1,type:String},color:{required:!1,type:String},level:{required:!1,type:String},done:{required:!0,type:Boolean}}}),$=t(89);const H=(0,$.Z)(U,[["render",S]]);var P=H,B=t(8582),Y=(0,s.aZ)({name:"RenderOrder",props:{ord:{required:!0,type:Object},worker:{required:!1,type:Boolean}},setup(e){const r=(0,y.iH)(),t=(0,p.e)(),{user:o}=(0,g.Jk)(t);return(0,s.bv)((()=>{R.Z.getSingleProduct(e.ord.product_id).then((e=>{r.value=e.data})).catch((e=>console.log(e)))})),{product:r,user:o}},components:{BadgeComponent:P,XIcon:B.Z},methods:{removeItem(){this.$emit("remove-item")},markAsDone(){this.$emit("mark-as-done")}}});const V=(0,$.Z)(Y,[["render",W]]);var E=V,F=(0,s.aZ)({name:"WorkerDashboard",setup(){const e=(0,y.iH)([]);return(0,s.bv)((()=>{f.Z.getFullOrders().then((r=>{e.value=r.data})).catch((e=>console.log(e)))})),{allOrders:e}},components:{RenderOrder:E},methods:{markOrder(e){f.Z.markOrderAsDone(e).then((async()=>{this.allOrders=(await f.Z.getFullOrders()).data})).catch((e=>console.log(e)))}}});const G=(0,$.Z)(F,[["render",v]]);var J=G;const K={class:"customer-dashboard"},T=(0,s._)("header",{class:"bg-white shadow"},[(0,s._)("div",{class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},[(0,s._)("h1",{class:"text-3xl font-bold text-gray-900"},"Dashboard")])],-1),X={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},N={class:"flex flex-col justify-center items-center space-y-4"};function L(e,r,t,o,a,n){const d=(0,s.up)("render-order");return(0,s.wg)(),(0,s.iD)("div",K,[T,(0,s._)("main",null,[(0,s._)("div",X,[(0,s._)("div",N,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.userOrders,(r=>((0,s.wg)(),(0,s.j4)(d,{ord:r,onRemoveItem:t=>e.deleteItem(r.id),key:r.id},null,8,["ord","onRemoveItem"])))),128))])])])])}var Q=(0,s.aZ)({name:"CustomerDashboard",setup(){const e=(0,y.iH)([]),r=(0,p.e)(),{user:t}=(0,g.Jk)(r);return(0,s.bv)((()=>{f.Z.getAllOrders(t.value?.id).then((r=>{e.value=r.data})).catch((e=>console.log(e)))})),{userOrders:e,user:t}},components:{RenderOrder:E},methods:{deleteItem(e){f.Z.deleteOrder(e),f.Z.getAllOrders(this.user?.id).then((e=>{this.userOrders=e.data}))}}});const ee=(0,$.Z)(Q,[["render",L]]);var re=ee;const te={class:"customer-dashboard"},se=(0,s._)("header",{class:"bg-white shadow"},[(0,s._)("div",{class:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8"},[(0,s._)("h1",{class:"text-3xl font-bold text-gray-900"},"Dashboard")])],-1),oe={class:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"},ae={class:"flex flex-col justify-center items-center space-y-4"};function ne(e,r,t,o,a,n){const d=(0,s.up)("render-user");return(0,s.wg)(),(0,s.iD)("div",te,[se,(0,s._)("main",null,[(0,s._)("div",oe,[(0,s._)("div",ae,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.users,(r=>((0,s.wg)(),(0,s.j4)(d,{user:r,onPromoteEvent:e.promote,key:r.id},null,8,["user","onPromoteEvent"])))),128))])])])])}const de={class:"max-w-sm w-full lg:max-w-full lg:flex shadow"},le={class:"w-full border-r border-b border-l lg:border-l-0 lg:border-t bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col lg:flex-row space-y-7 items-center lg:space-y-0 justify-between leading-normal"};function ue(e,r,t,o,a,n){return(0,s.wg)(),(0,s.iD)("div",de,[(0,s._)("div",le,[(0,s._)("p",null,[(0,s._)("span",{class:(0,k.C_)(e.colorMapping[e.user.type||0])},(0,k.zw)(e.typeMapping[e.user.type||0]),3),(0,s.Uk)(": "+(0,k.zw)(e.user.email),1)]),(e.user.type||0)<3?((0,s.wg)(),(0,s.iD)("button",{key:0,onClick:r[0]||(r[0]=r=>e.promote((e.user.type||0)+1)),class:"bg-blue-200 rounded-md px-4 py-2"},"Promote to "+(0,k.zw)(e.typeMapping[(e.user.type||0)+1]),1)):(0,s.kq)("",!0)])])}function ie(e,r){return(0,s.wg)(),(0,s.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[(0,s.Wm)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 10l7-7m0 0l7 7m-7-7v18"})])}const ce=["Customer","Worker","Department Manager","General Manager"],me=["text-black","text-green-500","text-sky-500","text-purple-500"];var ge=(0,s.aZ)({name:"RenderUser",props:{user:{required:!0,type:Object}},setup(){return{typeMapping:ce,colorMapping:me,ArrowUpIcon:ie}},methods:{promote(e){this.$emit("promote-event",{id:this.user.id,level:e})}}});const pe=(0,$.Z)(ge,[["render",ue]]);var xe=pe,we=t(3082),he=(0,s.aZ)({name:"GeneralManagerDashboard",setup(){const e=(0,y.iH)([]);return(0,s.bv)((()=>{we.Z.getAllUsers().then((r=>{e.value=r.data})).catch((e=>{console.log(e)}))})),{users:e}},components:{RenderUser:xe},methods:{promote(e){we.Z.promoteUser(e.id,e.level).then((async()=>{this.users=(await we.Z.getAllUsers()).data})).catch((e=>console.log(e)))}}});const be=(0,$.Z)(he,[["render",ne]]);var ve=be;const ye={class:"department-manager-dashboard"};function fe(e,r,t,o,a,n){return(0,s.wg)(),(0,s.iD)("div",ye,"This is department-manager dashboard")}var ke=(0,s.aZ)({name:"DepartmentManagerDashboard"});const _e=(0,$.Z)(ke,[["render",fe]]);var De=_e,Ze=(0,s.aZ)({name:"DashboardView",setup(){const e=(0,p.e)(),{user:r}=(0,g.Jk)(e);return{user:r}},components:{CustomerDashboard:re,WorkerDashboard:J,DepartmentManagerDashboard:De,GeneralManagerDashboard:ve}});const Oe=(0,$.Z)(Ze,[["render",m]]);var Me=Oe}}]);
//# sourceMappingURL=dashboard.0250ceb7.js.map